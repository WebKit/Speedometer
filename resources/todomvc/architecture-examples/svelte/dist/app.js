var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function c(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function f(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}let h;function g(t){h=t}function $(){const t=function(){if(!h)throw new Error("Function called outside component initialization");return h}();return(e,n,{cancelable:c=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:c=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,c,e),o}(e,n,{cancelable:c});return o.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}const x=[],y=[];let b=[];const v=[],k=Promise.resolve();let w=!1;function _(){w||(w=!0,k.then(F))}function E(t){b.push(t)}const C=new Set;let A=0;function F(){if(0!==A)return;const t=h;do{try{for(;A<x.length;){const t=x[A];A++,g(t),M(t.$$)}}catch(t){throw x.length=0,A=0,t}for(g(null),x.length=0,A=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];C.has(e)||(C.add(e),e())}b.length=0}while(x.length);for(;v.length;)v.pop()();w=!1,C.clear(),g(t)}function M(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const S=new Set;let I;function N(t,e){t&&t.i&&(S.delete(t),t.i(e))}function O(t,e,n,c){if(t&&t.o){if(S.has(t))return;S.add(t),I.c.push((()=>{S.delete(t),c&&(n&&t.d(1),c())})),t.o(e)}else c&&c()}function j(t,e){t.d(1),e.delete(t.key)}function L(t){t&&t.c()}function q(t,n,l,r){const{fragment:i,after_update:u}=t.$$;i&&i.m(n,l),r||E((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):c(n),t.$$.on_mount=[]})),u.forEach(E)}function P(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];b.forEach((c=>-1===t.indexOf(c)?e.push(c):n.push(c))),n.forEach((t=>t())),b=e}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(e,o,l,r,i,s,a,d=[-1]){const f=h;g(e);const p=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};a&&a(p.root);let m=!1;if(p.ctx=l?l(e,o.props||{},((t,n,...c)=>{const o=c.length?c[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&function(t,e){-1===t.$$.dirty[0]&&(x.push(t),_(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),m=!0,c(p.before_update),p.fragment=!!r&&r(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();o.intro&&N(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),F()}g(f)}class z{$destroy(){P(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const c=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return c.push(n),()=>{const t=c.indexOf(n);-1!==t&&c.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function B(e){let n,c,o,l,a,m;return{c(){n=s("header"),c=s("h1"),c.textContent="todos",o=d(),l=s("input"),p(l,"class","new-todo"),p(l,"placeholder","What needs to be done?"),l.autofocus=!0,p(n,"class","header")},m(t,u){i(t,n,u),r(n,c),r(n,o),r(n,l),l.focus(),a||(m=f(l,"keydown",e[0]),a=!0)},p:t,i:t,o:t,d(t){t&&u(n),a=!1,m()}}}function W(t){const e=$();return[function(t){"Enter"===t.key&&(e("addItem",{text:t.target.value}),t.target.value="")}]}class D extends z{constructor(t){super(),T(this,t,W,B,l,{})}}function G(e){let n,c,o;return{c(){n=s("button"),n.textContent="Clear completed",p(n,"class","clear-completed")},m(t,l){i(t,n,l),c||(o=f(n,"click",e[3]),c=!0)},p:t,d(t){t&&u(n),c=!1,o()}}}function H(e){let n,c,o,l,f,h,g,$,x,y,b,v,k,w,_,E,C,A,F,M,S,I,N,O,j=1===e[0]?"item":"items",L=e[2]&&G(e);return{c(){n=s("footer"),c=s("span"),o=s("strong"),l=a(e[0]),f=d(),h=a(j),g=a(" left"),$=d(),x=s("ul"),y=s("li"),b=s("a"),v=a("All"),w=d(),_=s("li"),E=s("a"),C=a("Active"),F=d(),M=s("li"),S=s("a"),I=a("Completed"),O=d(),L&&L.c(),p(c,"class","todo-count"),p(b,"class",k="all"===e[1]?"selected":""),p(b,"href","#/"),p(E,"class",A="active"===e[1]?"selected":""),p(E,"href","#/active"),p(S,"class",N="completed"===e[1]?"selected":""),p(S,"href","#/completed"),p(x,"class","filters"),p(n,"class","footer")},m(t,e){i(t,n,e),r(n,c),r(c,o),r(o,l),r(c,f),r(c,h),r(c,g),r(n,$),r(n,x),r(x,y),r(y,b),r(b,v),r(x,w),r(x,_),r(_,E),r(E,C),r(x,F),r(x,M),r(M,S),r(S,I),r(n,O),L&&L.m(n,null)},p(t,[e]){1&e&&m(l,t[0]),1&e&&j!==(j=1===t[0]?"item":"items")&&m(h,j),2&e&&k!==(k="all"===t[1]?"selected":"")&&p(b,"class",k),2&e&&A!==(A="active"===t[1]?"selected":"")&&p(E,"class",A),2&e&&N!==(N="completed"===t[1]?"selected":"")&&p(S,"class",N),t[2]?L?L.p(t,e):(L=G(t),L.c(),L.m(n,null)):L&&(L.d(1),L=null)},i:t,o:t,d(t){t&&u(n),L&&L.d()}}}function J(t,e,n){const c=$();let{numActive:o}=e,{currentFilter:l}=e,{numCompleted:r}=e;return t.$$set=t=>{"numActive"in t&&n(0,o=t.numActive),"currentFilter"in t&&n(1,l=t.currentFilter),"numCompleted"in t&&n(2,r=t.numCompleted)},[o,l,r,function(t){c("removeCompletedItems")}]}class K extends z{constructor(t){super(),T(this,t,J,H,l,{numActive:0,currentFilter:1,numCompleted:2})}}function Q(t,e,n){const c=t.slice();return c[16]=e[n],c[17]=e,c[18]=n,c}function R(t){let e,n,o,l,a,m,h,g,$,x,y,b,v=[],k=new Map,w=t[5];const _=t=>t[16].id;for(let e=0;e<w.length;e+=1){let n=Q(t,w,e),c=_(n);k.set(c,v[e]=V(c,n))}return $=new K({props:{numActive:t[4],currentFilter:t[0]+",",numCompleted:t[3]}}),$.$on("removeCompletedItems",t[10]),{c(){e=s("section"),n=s("input"),l=d(),a=s("label"),a.textContent="Mark all as complete",m=d(),h=s("ul");for(let t=0;t<v.length;t+=1)v[t].c();g=d(),L($.$$.fragment),p(n,"id","toggle-all"),p(n,"class","toggle-all"),p(n,"type","checkbox"),n.checked=o=t[3]===t[1].length,p(a,"for","toggle-all"),p(h,"class","todo-list"),p(e,"class","main")},m(c,o){i(c,e,o),r(e,n),r(e,l),r(e,a),r(e,m),r(e,h);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(h,null);r(e,g),q($,e,null),x=!0,y||(b=f(n,"change",t[9]),y=!0)},p(t,e){(!x||10&e&&o!==(o=t[3]===t[1].length))&&(n.checked=o),2468&e&&(w=t[5],v=function(t,e,n,o,l,r,i,u,s,a,d,f){let p=t.length,m=r.length,h=p;const g={};for(;h--;)g[t[h].key]=h;const $=[],x=new Map,y=new Map,b=[];for(h=m;h--;){const t=f(l,r,h),c=n(t);let u=i.get(c);u?o&&b.push((()=>u.p(t,e))):(u=a(c,t),u.c()),x.set(c,$[h]=u),c in g&&y.set(c,Math.abs(h-g[c]))}const v=new Set,k=new Set;function w(t){N(t,1),t.m(u,d),i.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=$[m-1],n=t[p-1],c=e.key,o=n.key;e===n?(d=e.first,p--,m--):x.has(o)?!i.has(c)||v.has(c)?w(e):k.has(o)?p--:y.get(c)>y.get(o)?(k.add(c),w(e)):(v.add(o),p--):(s(n,i),p--)}for(;p--;){const e=t[p];x.has(e.key)||s(e,i)}for(;m;)w($[m-1]);return c(b),$}(v,e,_,1,t,w,k,h,j,V,null,Q));const l={};16&e&&(l.numActive=t[4]),1&e&&(l.currentFilter=t[0]+","),8&e&&(l.numCompleted=t[3]),$.$set(l)},i(t){x||(N($.$$.fragment,t),x=!0)},o(t){O($.$$.fragment,t),x=!1},d(t){t&&u(e);for(let t=0;t<v.length;t+=1)v[t].d();P($),y=!1,b()}}}function U(e){let n,l,a,m,h,g,$,x;return{c(){n=s("div"),l=s("input"),h=d(),g=s("label"),g.textContent="Edit Todo Input",l.value=a=e[16].description,p(l,"data-index",m=e[18]),p(l,"id","edit-todo-input"),p(l,"class","edit"),p(g,"class","visually-hidden"),p(g,"for","edit-todo-input"),p(n,"class","input-container")},m(c,u){var s;i(c,n,u),r(n,l),r(n,h),r(n,g),$||(x=[f(l,"keydown",e[11]),f(l,"blur",e[8]),(s=e[12].call(null,l),s&&o(s.destroy)?s.destroy:t)],$=!0)},p(t,e){32&e&&a!==(a=t[16].description)&&l.value!==a&&(l.value=a),32&e&&m!==(m=t[18])&&p(l,"data-index",m)},d(t){t&&u(n),$=!1,c(x)}}}function V(t,e){let n,o,l,h,g,$,x,y,b,v,k,w,_,E=e[16].description+"";function C(){e[13].call(l,e[17],e[18])}function A(){return e[14](e[18])}function F(){return e[15](e[18])}let M=e[2]===e[18]&&U(e);return{key:t,first:null,c(){n=s("li"),o=s("div"),l=s("input"),h=d(),g=s("label"),$=a(E),x=d(),y=s("button"),b=d(),M&&M.c(),v=d(),p(l,"class","toggle"),p(l,"type","checkbox"),p(y,"class","destroy"),p(o,"class","view"),p(n,"class",k=(e[16].completed?"completed":"")+" "+(e[2]===e[18]?"editing":"")),this.first=n},m(t,c){i(t,n,c),r(n,o),r(o,l),l.checked=e[16].completed,r(o,h),r(o,g),r(g,$),r(o,x),r(o,y),r(n,b),M&&M.m(n,null),r(n,v),w||(_=[f(l,"change",C),f(g,"dblclick",A),f(y,"click",F)],w=!0)},p(t,c){e=t,32&c&&(l.checked=e[16].completed),32&c&&E!==(E=e[16].description+"")&&m($,E),e[2]===e[18]?M?M.p(e,c):(M=U(e),M.c(),M.m(n,v)):M&&(M.d(1),M=null),36&c&&k!==(k=(e[16].completed?"completed":"")+" "+(e[2]===e[18]?"editing":""))&&p(n,"class",k)},d(t){t&&u(n),M&&M.d(),w=!1,c(_)}}}function X(t){let e,n,o,l;e=new D({}),e.$on("addItem",t[6]);let r=t[1].length>0&&R(t);return{c(){L(e.$$.fragment),n=d(),r&&r.c(),o=a("")},m(t,c){q(e,t,c),i(t,n,c),r&&r.m(t,c),i(t,o,c),l=!0},p(t,[e]){t[1].length>0?r?(r.p(t,e),2&e&&N(r,1)):(r=R(t),r.c(),N(r,1),r.m(o.parentNode,o)):r&&(I={r:0,c:[],p:I},O(r,1,1,(()=>{r=null})),I.r||c(I.c),I=I.p)},i(t){l||(N(e.$$.fragment,t),N(r),l=!0)},o(t){O(e.$$.fragment,t),O(r),l=!1},d(t){P(e,t),t&&u(n),r&&r.d(t),t&&u(o)}}}function Y(t,e,n){let c,o,l,r="all",i=[],u=null;function s(t){n(1,i=i.slice(0,t).concat(i.slice(t+1)))}(function(t){let e="all";function n(){switch(window.location.hash){case"#/active":e="active";break;case"#/completed":e="completed";break;default:e="all"}t(e)}return{init:function(){window.addEventListener("hashchange",n)}}})((t=>n(0,r=t))).init();return t.$$.update=()=>{3&t.$$.dirty&&n(5,c="all"===r?i:"completed"===r?i.filter((t=>t.completed)):i.filter((t=>!t.completed))),2&t.$$.dirty&&n(4,o=i.filter((t=>!t.completed)).length),2&t.$$.dirty&&n(3,l=i.filter((t=>t.completed)).length)},[r,i,u,l,o,c,function(t){n(1,i=i.concat({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),description:t.detail.text,completed:!1}))},s,function(t){const e=t.target.value.trim();0===e.length?s(t.target.getAttribute("data-index")):n(1,i[u].description=e,i),n(2,u=null)},function(t){const e=t.target.checked;n(1,i=i.map((t=>({...t,completed:e}))))},function(){n(1,i=i.filter((t=>!t.completed)))},function(t){"Enter"===t.key?t.target.blur():"Escape"===t.key&&n(2,u=null)},async function(t){await(_(),k),t.focus()},function(t,e){t[e].completed=this.checked,n(5,c),n(0,r),n(1,i)},t=>n(2,u=t),t=>s(t)]}return new class extends z{constructor(t){super(),T(this,t,Y,X,l,{})}}({target:document.querySelector(".todoapp")})}();
//# sourceMappingURL=app.js.map
