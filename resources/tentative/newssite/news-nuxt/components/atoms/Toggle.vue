<script lang="js">
import styles from "news-site-css/dist/toggle.module.css";

export default {
    props: {
        label: String,
        onChange: Function,
        checked: Boolean,
    },
    data() {
        return {
            styles,
            isSelected: false,
        }
    },
    mount() {
        this.isSelected = this.checked;
    },
    methods: {
        handleChange(e) {
            this.isSelected = e.target.checked;
            this.onChange(e);
        }
    }
}
</script>

<template>
    <div :class="styles['toggle-outer']">
        <div :class="styles['toggle-description']">{{ label }}</div>
        <div :class="styles['toggle-container']">
            <label :class="styles.label" for="reduced-motion-toggle">
            <input type="checkbox" id="reduced-motion-toggle" :checked="isSelected" @change="handleChange" />
            <span :class="styles.switch"></span>
            <div class="visually-hidden">selected: {{ isSelected ? "true" : "false" }}</div>
        </label>
        </div>
    </div>
</template>